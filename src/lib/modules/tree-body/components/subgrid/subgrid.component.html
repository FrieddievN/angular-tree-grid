<ng-container *ngIf="expand_tracker[row_data.parent_pathx]">
  <ng-container *ngIf="!row_data.leaf">
    <td *ngFor="let column of configs.columns; index as i" 
      [ngClass]="{'column-hide': column.hidden, 'expand-column': i == 0}">
      <db-tree-cell
        [configs]="configs"
        [column]="column"
        [index]="i"
        [row_data]="row_data"
        [expand_tracker]="expand_tracker"
        [edit_on]="edit_tracker[row_data[configs.id_field]]"
        [cellclick]="cellclick"
        (rowexpand)="onRowExpand($event)"
        (rowcollapse)="onRowCollapse($event)"
      >
      </db-tree-cell>
    </td>
  </ng-container>
  <ng-container *ngIf="row_data.leaf">
    <td colspan="2" class="subgrid-column">
        <table width="100%">
            <thead>
              <tr>
                <th *ngFor="let column of configs.subgrid_config.columns">
                  {{column.header}}
                </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let child_data of row_data.children">
                <td *ngFor="let column of configs.subgrid_config.columns; index as i">
                  <db-tree-cell
                    [configs]="configs"
                    [column]="column"
                    [index]="i"
                    [row_data]="child_data"
                    [expand_tracker]="expand_tracker"
                    [cellclick]="cellclick"
                  ></db-tree-cell>
                </td>
              </tr>
              <tr *ngIf="configs.subgrid_config.show_summary_row">
                <td *ngFor="let column of configs.subgrid_config.columns">
                  <div [innerHTML]="column.summary_renderer && column.summary_renderer(row_data.children)"></div>
                </td>
              </tr>
            </tbody>
            
          </table>
    </td>    
  </ng-container>  
</ng-container>